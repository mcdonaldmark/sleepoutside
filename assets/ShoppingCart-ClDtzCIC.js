(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();function d(t,e=document){return e.querySelector(t)}function l(t){return JSON.parse(localStorage.getItem(t))}function m(t,e){localStorage.setItem(t,JSON.stringify(e))}function h(t){const e=window.location.search;return new URLSearchParams(e).get(t)}function f(t,e,a,n="afterbegin",r=!1){const o=a.map(t);r&&(e.innerHTML=""),e.insertAdjacentHTML(n,o.join(""))}function c(t,e,a,n){e.insertAdjacentHTML("afterbegin",t)}async function i(t){return await(await fetch(t)).text()}async function p(){const t=await i("../partials/header.html"),e=document.querySelector("#main-header"),a=await i("../partials/footer.html"),n=document.querySelector("#main-footer");c(t,e),c(a,n)}function g(t,e=!0,a=3e3){const n=document.createElement("div");n.classList.add("alert"),n.innerHTML=`<p>${t}</p><span>X</span>`,n.addEventListener("click",function(o){o.target.tagName=="SPAN"&&r.removeChild(this)});const r=document.querySelector("main");r.prepend(n),e&&window.scrollTo(0,0)}function y(){document.querySelectorAll(".alert").forEach(e=>document.querySelector("main").removeChild(e))}function u(t){return`<li class="cart-card divider">
    <a href="#" class="cart-card__image">
      <img src="${t.Images.PrimaryMedium}" alt="${t.Name}" />
    </a>
    <a href="#"><h2 class="card__name">${t.Name}</h2></a>
    <p class="cart-card__color">${t.Colors[0].ColorName}</p>
    <p class="cart-card__quantity">qty: 1</p>
    <p class="cart-card__price">$${t.FinalPrice}</p>
  </li>`}class S{constructor(e,a){this.key=e,this.parentSelector=a,this.list=[],this.total=0,this.onChangeCallback=null}async init(){this.list=l(this.key)||[],this.calculateTotal(),this.renderCartContents(),this.triggerChange()}calculateTotal(){this.total=this.list.reduce((e,a)=>e+a.FinalPrice,0)}renderCartContents(){const e=this.list.map(u),a=document.querySelector(this.parentSelector);a&&(a.innerHTML=e.join(""));const n=document.querySelector(".list-total");n&&(n.innerText=`$${this.total}`)}onChange(e){this.onChangeCallback=e}triggerChange(){var e;(e=this.onChangeCallback)==null||e.call(this,this.total,this.list.length)}}export{S,g as a,f as b,h as c,l as g,p as l,d as q,y as r,m as s};
